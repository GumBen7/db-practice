---
title: Демонстрационный экзамен. Вариант 4
---

[К списку вариантов](demo-exam.md)

[К списку лабораторных >>>](../../../README.md)

---

# Сессия 1

## Проектирование ER-диаграмм

На основе описания предметной области Вам необходимо спроектировать ER-диаграмму для будущей
системы. Обязательна 3 нормальная форма с обеспечением ссылочной целостности. При разработке
диаграммы обратите внимание на согласованную осмысленную схему именования, создайте
необходимые первичные и внешние ключи, определите ограничения внешних ключей, отражающие
характер предметной области. Сохраните файл с диаграммой в формате PDF, используя в качестве
названия следующий шаблон: ERD_XX, где XX - номер вашего рабочего места.

## Разработка базы данных по ERD

На основании созданной вами ER-диаграммы создайте базу данных в выбранной СУБД. На данном этапе
нет необходимости воспроизводить все сущности, выделенные на этапе проектирования, достаточно
будет создания таблиц, полей с подходящими типами данных и связей, непосредственно относящихся к
разрабатываемой подсистеме и функционалу, который был определен во введении.

## Импорт данных

Заказчик системы предоставил файлы с данными (с пометкой import в ресурсах) для переноса в новую
систему. Подготовьте данные файлов для импорта и загрузите в разработанную базу данных.

# Сессия 2

## Разработка desktop-приложений

### Список агентов

В связи с тем, что компания не реализует продукцию конечным потребителям, у нас есть множество
агентов по всей стране, которые продают нашу продукцию от лица нашего бренда. Необходимо вести учёт
всех агентов, а также статистику по их продажам.

Реализуйте окно для показа краткой информации об агентах: наименование, количество продаж за год,
размер скидки, телефон и тип агента. Вывод агентов должен соответствовать предоставленному макету.
При отсутствии изображения необходимо вывести картинку-заглушку из ресурсов (picture.png).
В случае если в базе более 10 агентов, то вывод должен осуществляться постранично (по 10 агентов на
страницу). Для удобства навигации по страницам необходимо вывести список их номеров (как на макете)
с возможностью перехода к выбранной странице, а также предусмотреть переходы к предыдущей и
следующей страницам.

Количество продаж вычисляется как общее количество проданных единиц продукции за последний год
(365 дней).

Размер скидки вычисляется на основании успешности организации продаж за весь период. Механизм
подсчета скидок для агента исходя из общей суммы реализации продукции: \[0-10000) -> 0%, \[10000-50000)
-> 5%, \[50000-150000) -> 10%, \[150000-500000) -> 20%, \[500000-...] -> 25%.

Пользователь должен иметь возможность отсортировать агентов (по возрастанию и убыванию) по
следующим параметрам: наименование, размер скидки и приоритет агента. Выбор сортировки должен
быть реализован с помощью выпадающего списка.

Кроме этого, пользователь должен иметь возможность отфильтровать данные по типу агента. Все типы из
базы данных должны быть выведены в выпадающий список для фильтрации. Первым элементом в
выпадающем списке должен быть “Все типы”, при выборе которого настройки фильтра сбрасываются.
Пользователь должен иметь возможность искать агентов, используя поисковую строку. Поиск должен
осуществляться по наименованию и контактным данным (email и номер телефона агента).

Поиск, сортировка и фильтрация должны происходить в реальном времени, без необходимости нажатия
кнопки “найти”/”отфильтровать” и т.п. Фильтрация и поиск должны применяться совместно. Параметры
сортировки, выбранные ранее пользователем, должны сохраняться и во время фильтрации с поиском.
Агнеты со скидкой 25% и выше должны быть выделены светло-зеленым цветом.

Необходимо добавить возможность изменения приоритета для нескольких выбранных агентов. Для этой
цели реализуйте возможность выделения сразу нескольких элементов в списке агентов, после чего
должна появиться кнопка “Изменить приоритет на ...”. При нажатии на кнопку необходимо отобразить
модальное окно с возможностью ввода числового значения, на которое и будет изменен приоритет
агентов. По умолчанию в поле должно быть введено максимальное значение среди всех приоритетов
выбранных агентов. После нажатия кнопки “Изменить” приоритет выделенных агентов должен быть
изменен в базе данных, а также обновлен в интерфейсе.

### Добавление/редактирование агентов

Необходимо добавить возможность редактирования данных существующего агента, а также добавление
нового агента в новом окне - форме для добавления/редактирования агента. Переходы на данное окно
должны быть реализованы из главной формы списка: для редактирования - при нажатии на конкретный
элемент, для добавления - при нажатии кнопки “Добавить агента”.

На форме должны быть предусмотрены следующие поля: наименование, тип агента (выпадающий
список), приоритет, логотип компании, адрес, ИНН, КПП, имя директора, телефон и email компании.
Также необходимо реализовать вывод истории реализации продукции агентом с указанием количества и
даты продажи. В список можно добавлять новые позиции и удалять существующие. При добавлении
реализации продукция должна выбираться из выпадающего списка с возможностью поиска по
наименованию.

При открытии формы для редактирования все поля выбранного объекта должны быть подгружены в
соответствующие поля из базы данных, а таблица заполнена актуальными значениями.
Приоритет агента и количество продукции должны быть целыми неотрицательными числами.
Пользователь может добавить/заменить логотип агента.
Для того чтобы администратор случайно не изменял несколько агентов, предусмотрите невозможность
открытия более одного окна редактирования.

В окне редактирования агента должна присутствовать кнопка “Удалить”, которая удаляет агента из базы
данных. При этом должны соблюдаться следующие условия. Если у агента есть информация о точках
продаж агентов или история изменения приоритета, то эта информация должна быть удалена вместе с
агентом. Но если у агента есть информация о реализации продукции, то удаление агента из базы данных
должно быть запрещено. После удаления агента система должна сразу вернуть пользователя обратно к
списку агентов.

После редактирования/добавления/удаления агента данные в окне списка агентов должны быть
обновлены. Обратите внимание, что при изменении информации о реализации продукции, необходимо
пересчитывать скидку агента.

## Разработка библиотеки классов

### Общие требования

Для того чтобы в производстве могли быстро и одинаково рассчитывать количество необходимого сырья
для производства той или иной продукции, необходимо разработать библиотеку классов.
Данная библиотека будет подключаться к основному проекту и должна быть представлена в виде .dll/.jar
файла или папки с файлом .py.

Чтобы система правильно интегрировалась вам необходимо обязательно следовать правилам
именования библиотек, классов и методов в них. В случае ошибок в рамках именования ваша работа не
может быть проверена и ваш результат не будет зачтен. Классы и методы должны содержать
модификатор public (если это реализуемо в рамках платформы), чтобы внешние приложения могли
получить к ним доступ.

В качестве названия для библиотеки необходимо использовать: WSUniversalLib. Вам необходимо
загрузить исходный код проекта с библиотекой в отдельный репозиторий с названием, совпадающим с
названием проекта.

### Класс расчета материалов

Метод должен рассчитывать целое количество сырья, необходимого для производства определенного
количества (count) продукции, учитывая возможный брак материалов. Для упрощения расчетов будем
считать всю продукцию прямоугольного размера с известными значениями ширины (width) и длины
(length).

Количество необходимого качественного сырья на одну единицу продукции рассчитывается как площадь
продукции, умноженная на коэффициент типа продукции.

Коэффициенты типа продукции (product_type):
Тип продукции 1 - 1.1,
Тип продукции 2 - 2.5,
Тип продукции 3 - 8.43.
При этом нужно учитывать процент брака материала в зависимости от его типа (material_type):
Тип материала 1 - 0.3%,
Тип материала 2 - 0.12%.

При этом если в качестве параметров метода будут приходить несуществующие
продукции/материалов или другие неподходящие данные, то метод должен вернуть -1.

Например, необходимо изготовить 15 единиц продукции 3 типа шириной 20 и длиной 45 из материала 1
типа. Количество качественного сырья (без учета брака) будет равно 113 805. Однако с учетом возможного
брака материалов общее необходимое количество сырья должно быть увеличено до 114 147,442.

Округлив полученное значение до ближайшего большего целого, получим 114 148 единиц необходимого
сырья.
Спецификация метода представлена в отдельном файле в ресурсах.

## Разработка модульных тестов (Unit-tests)

Для выполнения процедуры тестирования созданного вами метода библиотеки WSUniversalLib,
возвращающего целое количество сырья для производства, вам необходимо создать отдельный проект
модульных тестов.

В рамках проекта разработайте тесты, максимально полно покрывающие функционал метода. Ничего
страшного, если ваш метод работает не совсем идеально и тесты могут быть не пройдены в связи с этим -
в данном модуле это не так важно.
Обратите внимание, что имена тестов должны отражать их суть, т.е. вместо TestMethod1() тест следует
назвать, например, GetQuantityForProduct_NonExistentProductType() для тестирования случая передачи
несуществующего типа продукции.

Необходимо разработать модульные тесты, которые на основании исходных данных можно условно
разделить на 2 группы следующим образом: 10 методов низкой сложности и 5 методов высокой
сложности.